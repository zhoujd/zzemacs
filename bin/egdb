#!/bin/bash

## Run Examples
# $ egdb
# $ PARAMS='-Q -nw' egdb
# $ PARAMS='--quick -nw' egdb

BIN="emacs"
PARAMS=${PARAMS:-"--quick"}
ZZEMACS_ROOT=${ZZEMACS_ROOT:-"~/zzemacs"}
GDB_CMD="gdb -q --fullname"

$BIN $PARAMS \
     --eval "(defvar zzemacs-path \"${ZZEMACS_ROOT}\")"  \
     --eval "(load-file \"${ZZEMACS_ROOT}/.emacs-gdb\")" \
     --eval "(gud-gdb \"${GDB_CMD} $*\")"
