#!/bin/bash

## Run Examples
# egdb
# OPT='-Q -nw' egdb
# OPT='--quick -nw' egdb

BIN=${BIN:-"emacs"}
OPT=${OPT:-"--quick"}
ZZEMACS_ROOT=${ZZEMACS_ROOT:-"$HOME/zzemacs"}
GDB_CMD=${GDB_CMD:-"gdb -q --fullname"}

$BIN $OPT \
     --eval "(defvar zzemacs-path \"${ZZEMACS_ROOT}\")"  \
     --eval "(load-file \"${ZZEMACS_ROOT}/.emacs-gdb\")" \
     --eval "(gud-gdb \"${GDB_CMD} $*\")"
