#!/bin/bash

emacsclient -e "(if (> (length (frame-list)) 1) 't)" | grep -q t
if [ "$?" = "1" ]; then
    # none found so create frame
    emacsclient -n -c -a "" "$@"
else
    emacsclient -n -a "" "$@"
fi
