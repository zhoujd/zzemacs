version: "3"

services:
  emacs:
    container_name: zzemacs
    hostname: zzemacs
    image: "ubuntu-22.04-zzemacs:zach"
    network_mode: bridge
    env_file:
      - env.sh
    extra_hosts:
      - "myhost:172.17.0.1"
    restart: always
    ports:
      - "10022:22"
    privileged: true
    cap_add:
      - ALL
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /home/${USER}/zzemacs:/home/${USER}/zzemacs
      - /home/${USER}/work:/home/${USER}/work
